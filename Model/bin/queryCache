#!/bin/csh

if ($#argv != 2) then
  echo ""
  echo "Create, reset or drop a query cache."
  echo "The name of the cache table is found in the configFile (the table"
  echo "is placed in the schema owned by login)."
  echo "Resetting the cache drops all results tables and deletes all rows from the cache table."
  echo "Dropping the cache first resets it then drops the cache table and sequence."
  echo ""
  echo "Usage: queryCache configFile --new | --reset | --drop"
  echo	""
  echo "Where:"
  echo "  configFile: an .xml file that specifies a ModelConfig object"
  exit 1 
endif

setenv CONFIG_FILE $argv[1]
shift

#setenv LOGGING_PROPS "-Dorg.apache.commons.logging.Log=org.apache.commons.logging.impl.SimpleLog -Dorg.apache.commons.logging.simplelog.log.org.apache.commons.digester.Digester=debug -Dorg.apache.commons.logging.simplelog.log.org.apache.commons.digester.Digester.sax=info"

setenv CLASSPATH "$GUS_HOME/lib/java/commons-digester.jar:$GUS_HOME/lib/java/GUS-WebDevKit.jar:$GUS_HOME/lib/java/commons-beanutils.jar:$GUS_HOME/lib/java/commons-collections.jar:$GUS_HOME/lib/java/commons-logging-api.jar:$GUS_HOME/lib/java/oracle-classes12.jar:$GUS_HOME/lib/java/commons-dbcp-1.1.jar:$GUS_HOME/lib/java/commons-pool-1.1.jar" 

java -Djdbc.drivers=oracle.jdbc.driver.OracleDriver -classpath $CLASSPATH org.gusdb.gus.wdk.model.query.SqlResultFactory $CONFIG_FILE $argv[1]




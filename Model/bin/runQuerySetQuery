#!/bin/csh

if ($#argv == 0) then
  echo ""
  echo "Run a query found in a query set xml file"
  echo ""
  echo "Usage: runQuerySetQuery configFile xmlFile queryName paramName1 paramValue1 paramName2 ..."
  echo	""
  echo "Where:"
  echo "  configFile: a .csh file that sets CONNECTION_URL LOGIN PASSWORD"
  echo "  xmlFile:     the querySet xml file"
  echo "  queryName:   a name of a query in that file"
  echo "  paramName1:  name of a param for that query" 
  echo "  paramValue1: the value for that param" 
  echo "  etc"
  exit 1 
endif

setenv CONFIG_FILE $argv[1]
shift
setenv XML_FILE $argv[1]
shift
setenv QUERYNAME $argv[1]
shift

# must set $CONNECTION_URL, $LOGIN, $PASSWORD
source $CONFIG_FILE

setenv CLASSPATH "$GUS_HOME/lib/java/commons-digester.jar:$GUS_HOME/lib/java/GUS-WebDevKit.jar:$GUS_HOME/lib/java/commons-beanutils.jar:$GUS_HOME/lib/java/commons-collections.jar:$GUS_HOME/lib/java/commons-logging-api.jar:$GUS_HOME/lib/java/xercesImpl.jar:$GUS_HOME/lib/java/oracle-classes12.jar" 

java -classpath $CLASSPATH org.gusdb.gus.wdk.model.query.QueryTester $CONNECTION_URL $LOGIN $PASSWORD $XML_FILE $QUERYNAME $argv




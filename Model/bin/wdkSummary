#!/usr/bin/perl

$GUS_HOME=$ENV{GUS_HOME};
$CLASSPATH="$GUS_HOME/lib/java/commons-digester-1.5.jar:$GUS_HOME/lib/java/GUS-WebDevKit.jar:$GUS_HOME/lib/java/commons-beanutils.jar:$GUS_HOME/lib/java/commons-collections.jar:$GUS_HOME/lib/java/commons-logging-api.jar:$GUS_HOME/lib/java/xercesImpl.jar:$GUS_HOME/lib/java/oracle-classes12.jar:$GUS_HOME/lib/java/commons-dbcp-1.1.jar:$GUS_HOME/lib/java/commons-pool-1.1.jar:$GUS_HOME/lib/java/commons-cli-1.0.jar:$GUS_HOME/lib/java/jing-20030619.jar";

my $args = "";
foreach my $arg (@ARGV) {
    $args .= ($arg =~ /\-/ ? " $arg" : " \"$arg\"");
}

my $cmd = "java -Djdbc.drivers=oracle.jdbc.driver.OracleDriver -DcmdName=wdkSummary -DschemaFile=$GUS_HOME/lib/rng/wdkModel.rng -classpath $CLASSPATH org.gusdb.gus.wdk.model.test.SummaryTester $args";

system($cmd);
